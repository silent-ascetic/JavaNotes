# 运算符

## 算数运算符

| 运算符 | 运算规则         | 范例           | 结果       |
| ------ | ---------------- | -------------- | ---------- |
| `+`    | 正号             | +31            | 31         |
| `+`    | 加               | 5+5            | 10         |
| `+`    | 连接字符串       | “中软”+“国际”  | “中国国际” |
| `-`    | 负号             | int a=43;-a    | -43        |
| `-`    | 减               | 3-1            | 2          |
| `*`    | 乘               | 2*3            | 6          |
| /      | 除               | 5/5            | 1          |
| %      | 取模             | 5%4            | 1          |
| ++     | 自增（自身加一） | int a= 0;a++;  | 1          |
| --     | 自减（自身减一） | int a = 9;a--; | 8          |
| =      | 赋值             | int a=5;       | 5          |
| +=     | 加后赋值         | int a=5;a+=5;  | 10         |
| -=     | 减后赋值         | int a=5;a-=5;  | 0          |
| *=     | 乘后赋值         | int a=5;a*=5;  | 25         |
| /=     | 整除后赋值       | int a=5;a/=5;  | 1          |
| %=     | 取模后赋值       | int a=5;a%=5;  | 0          |
| ? :    | 三元运算符       | 2>4 ? 5 : 9    | 9          |

**注：**  
1. 自增分为前++（先自身加一再执行其他代码）和后++（先执行下一步代码再自身加一），自减同样  
2. +=、-=、*=、/=、%=会在需要数据类型强制转换时进行自动强制转换
3. 三元运算符当问号前表达式为真时返回冒号前的值，反之返回后一个值

```java
public class Test {
    public static void main(String[] args) {
        int x = 1;
        System.out.println(x++ + 1);
        System.out.println(x);

        System.out.println(++x + 1);
        System.out.println(x);

        System.out.println(x++ + 1 + x);

        short a = 2;
        
        a += 2;

        System.out.println(a);

        a = a+2;

    }
}
```

## 比较运算符

| 运算符 | 运算规则 | 范例  | 结果  |
| ------ | -------- | ----- | ----- |
| ==     | 相等于   | 4==3  | false |
| !=     | 不等于   | 4!=3  | true  |
| <      | 小于     | 4<3   | false |
| >      | 大于     | 4>3   | true  |
| <=     | 小于等于 | 3<= 4 | true  |
| >=     | 大于等于 | 4>=7  | false |


## 逻辑运算符

| 运算符 | 运算规则   | 范例          | 结果  |
| ------ | ---------- | ------------- | ----- |
| &      | 与         | false&true    | false |
| `|`    | 或         | `false|true`  | true  |
| ^      | 异或       | false^true    | true  |
| !      | 非         | !true         | flase |
| &&     | 双与(短路) | false&&true   | false |
| `||`   | 双或(短路) | `false||true` | true  |

**注：**  
1. ^ 在两端表达式结果相同时为false，反之为true
2. &&在前一个表达式为false时不会执行第二个表达式
3. `||`在前一个表达式为true时不会执行下一个表达式
4. &、`|` 与 &&、`||` 相反


```java
public class Test {
    public static void main(String[] args) {
        int x = 1;
        System.out.println(false && x++ > 1);
        System.out.println(x);
        System.out.println(true || x++ > 1);
        System.out.println(x);
        System.out.println(false & x++ > 1);
        System.out.println(x);
        System.out.println(true | x++ > 1);
        System.out.println(x);
    }
}
```


## 运算符优先级

优先级 | 运算符 | 结合性
----|-----|----
1 | ()、[]、{} | 从左向右
2 | !、+、-、~、++、-- | 从右向左
3 | *、/、% | 从左向右
4 | +、- | 从左向右
5 | «、»、>>> | 从左向右
6 | <、<=、>、>=、instanceof | 从左向右
7 | ==、!= | 从左向右
8 | & | 从左向右
9 | ^ | 从左向右
10 | `|` | 从左向右
11 | && | 从左向右
12 | `||` | 从左向右
13 | ?: | 从右向左
14 | =、+=、-=、*=、/=、&=、`|=`、^=、~=、«=、»=、>>>= | 从右向左
